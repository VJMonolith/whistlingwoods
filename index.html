<html>
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, height=device-height, initial-scale=1, maximum-scale=1, user-scalable=no, viewport-fit=cover">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <title>AR Experience</title>
  <script src="scripts/aframe.min.js"></script>
  <script src="scripts/mindar-image-aframe.prod.js"></script>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <!-- Scanning Overlay -->
  <div id="example-scanning-overlay" class="hidden">
    <div class="inner">
      <img src="target/image.jpg" alt="Scan Target">
      <div class="scanline"></div>
    </div>
  </div>

  <!-- AR Scene -->
  <a-scene mindar-image="filterMinCF:0.001; filterBeta: 50; warmupTolerance: 5; missTolerance: 5; imageTargetSrc: target/image.mind; showStats: false; uiScanning: #example-scanning-overlay;"
           embedded color-space="sRGB" renderer="colorManagement: true, physicallyCorrectLights"
           vr-mode-ui="enabled: false" device-orientation-permission-ui="enabled: false">
    
    <!-- Assets -->
    <a-assets>
      <img id="card" src="target/image.jpg" alt="Card">
      <img id="icon-play" src="img/playIcon.png" alt="Play Icon">
      <img id="icon-download" src="img/download.png" alt="Download Icon">
      <img id="icon-logo" src="img/logo.png" alt="Logo">
      <video id="video-mp4" autoplay="false" loop="true" src="video/video.mp4"></video>
    </a-assets>

    <!-- AR Camera -->
    <a-camera position="0 0 0" look-controls="enabled: false" cursor="fuse: false; rayOrigin: mouse;" raycaster="far: 10000; objects: .clickable"></a-camera>

    <!-- Image Target -->
    <a-entity id="mytarget" mytarget mindar-image-target="targetIndex: 0" position="0 0 -0.5" scale="1.5 1.5 1.5">
      <!-- Image Placeholder -->
      <a-plane visible="false" src="#card" position="0 0 0.05" height="0.6" width="0.96" rotation="0 0 0"></a-plane>

      <!-- Media Player -->
      <a-entity visible="false" id="media-panel" position="-0.002 0 0.08"
                animation__pop="property: scale; from: 0 1 1; to: 1.2 1 1; dur: 180; easing: easeOutQuad; startEvents: pop"
                animation__reset="property: scale; to: 1 1 1; dur: 180; easing: easeOutQuad; startEvents: reset">
        <a-entity id="media-item0">
          <a-video id="video-link" webkit-playsinline playsinline width="0.96" height="0.6" position="0 0 0"></a-video>
          <a-image id="play-button" class="clickable" src="#icon-play" alpha-test="0.2" position="0 0 0.01" height="0.6" width="0.96"></a-image>
        </a-entity>
      </a-entity>

      <!-- CTA Button -->
      <a-entity visible="false" id="cta-panel" position="0 -0.4 0.08"
                animation__pop="property: scale; from: 1 1 1; to: 1.3 1.3 1.3; dur: 180; easing: easeOutQuad; startEvents: pop"
                animation__reset="property: scale; to: 1 1 1; dur: 180; easing: easeOutQuad; startEvents: reset">
        <a-entity id="cta-item0">
          <a-image id="download-button" class="clickable" src="#icon-download" alpha-test="0.5" position="0 0 0" height="0.1" width="0.3"></a-image>
        </a-entity>
      </a-entity>
    </a-entity>
  </a-scene>

  <!-- Footer Logo -->
  <div id="right-bottom-footer">
    <img src="img/logo.png" alt="Footer Logo">
  </div>

  <script src="scripts/main.js"></script>
</body>
</html>